function transferVideoChange(obj)
{
    var transferStatus  = obj.value;
    if(transferStatus == "true")
    {
        $("#transferSet").css("display","")
    }
    else
    {
        $("#transferSet").css("display","none")
    }
}

var transferInfo;
function createTfServerSelect(div_id)
{
    $.ajax({
        type: "GET",
        async: false,
        url: locationHref+"/rest/admin/transfer/transferPlan",//获取转码方案
        success: function(data)
        {
            //解析JSON
            var obj = data;
            transferInfo = obj;
            if(obj != null )
            {
                var select_begin = "<select id='tf_select' name='server' class='select'></select>"
                $("#"+div_id).append(select_begin);
                //add the root category
                $("#tf_select").append("<option value='-1'>"+PleaseSelectTranscodingScheme+"</option>");
                for(var i=0;i<obj.length;i++)
                {
                    var id = obj[i].id;
                    var name = obj[i].name;
                    var option = "<option value='"+id+"'>"+name+"</option>"
                    $("#tf_select").append(option);
                }
            }
            else
            {
                var dom = "<a href='transfer_list.html' style='color: red;'>"+addTransfer+"</a>";
                $("#tfServerOuter").append(dom);
            }
        },
        error:function(data)
        {
            var errorObj = data;
            var status = data.status;
            var statusText = data.statusText
            if(status == 401 || status == 400)
            {
                top.location.href = "login.html";
            }
            else if(status == 409)
            {
                window.top.art.dialog({id:"mesg",content:statusText+"!",time:2});
            }
        }
    });
}



function createTfServerSelect_type(div_id)
{
    $.ajax({
        type: "GET",
        url: locationHref+"/rest/admin/vodTypes",
        success: function(data)
        {
            var obj = data;
            if(obj != null)
            {
                var select_begin = "<select id='tf_select_id' name='server' class='select' ></select>"
                $("#"+div_id).append(select_begin);
                $("#tf_select_id").append("<option value='-1'>"+SelectDemandClassification+"</option>");
                for(var i=0;i<obj.length;i++)
                {
                    var id = obj[i].id;
                    var name = obj[i].name;
                    var visible = obj[i].visible;
                    var bPublic = obj[i].bPublic;
                    var vipLevel = obj[i].vipLevel;
                    var subNames = obj[i].subNames;
                    if(id != "" && id.indexOf("lu_") == -1)
                    {
                        var option = "<option value='"+id+"'>"+name+"</option>";
                        if(subNames != null)
                        {
                            for(var j=0;j<subNames.length;j++)
                            {
                                var subid = subNames[j].id;
                                var subName = subNames[j].name;
                                var subvisible = subNames[j].visible;
                                var subBPublic = subNames[j].bPublic;
                                var subVipLevel = subNames[j].vipLevel;
                                option += "<option value='"+subid+"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;├─"+subName+"</option>";
                            }
                        }
                        $("#tf_select_id").append(option);
                    }
                }
            }
        },
        error:function(data)
        {
            var errorObj = data;
            var status = data.status;
            var statusText = data.statusText
            if(status == 401 || status == 400)
            {
                top.location.href = "login.html";
            }
            else if(status == 409)
            {
                window.top.art.dialog({id:"mesg",content:statusText+"!",time:2});
            }
        }
    })
}